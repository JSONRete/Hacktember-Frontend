{"version":3,"sources":["../../../src/components/SignInButton.tsx"],"sourcesContent":["import React from 'react';\n\nimport type { SignInButtonProps, WithClerkProp } from '../types';\nimport { assertSingleChild, normalizeWithDefaultValue, safeExecute } from '../utils';\nimport { withClerk } from './withClerk';\n\nexport const SignInButton = withClerk(({ clerk, children, ...props }: WithClerkProp<SignInButtonProps>) => {\n  const { afterSignInUrl, afterSignUpUrl, redirectUrl, mode, ...rest } = props;\n\n  children = normalizeWithDefaultValue(children, 'Sign in');\n  const child = assertSingleChild(children)('SignInButton');\n\n  const clickHandler = () => {\n    const opts = { afterSignInUrl, afterSignUpUrl, redirectUrl };\n    if (mode === 'modal') {\n      return clerk.openSignIn(opts);\n    }\n    return clerk.redirectToSignIn(opts);\n  };\n\n  const wrappedChildClickHandler: React.MouseEventHandler = async e => {\n    await safeExecute((child as any).props.onClick)(e);\n    return clickHandler();\n  };\n\n  const childProps = { ...rest, onClick: wrappedChildClickHandler };\n  return React.cloneElement(child as React.ReactElement<unknown>, childProps);\n}, 'SignInButton');\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAkB;AAGlB,mBAA0E;AAC1E,uBAA0B;AAEnB,MAAM,mBAAe,4BAAU,CAAC,EAAE,OAAO,UAAU,GAAG,MAAM,MAAwC;AACzG,QAAM,EAAE,gBAAgB,gBAAgB,aAAa,MAAM,GAAG,KAAK,IAAI;AAEvE,iBAAW,wCAA0B,UAAU,SAAS;AACxD,QAAM,YAAQ,gCAAkB,QAAQ,EAAE,cAAc;AAExD,QAAM,eAAe,MAAM;AACzB,UAAM,OAAO,EAAE,gBAAgB,gBAAgB,YAAY;AAC3D,QAAI,SAAS,SAAS;AACpB,aAAO,MAAM,WAAW,IAAI;AAAA,IAC9B;AACA,WAAO,MAAM,iBAAiB,IAAI;AAAA,EACpC;AAEA,QAAM,2BAAoD,OAAM,MAAK;AACnE,cAAM,0BAAa,MAAc,MAAM,OAAO,EAAE,CAAC;AACjD,WAAO,aAAa;AAAA,EACtB;AAEA,QAAM,aAAa,EAAE,GAAG,MAAM,SAAS,yBAAyB;AAChE,SAAO,aAAAA,QAAM,aAAa,OAAsC,UAAU;AAC5E,GAAG,cAAc;","names":["React"]}