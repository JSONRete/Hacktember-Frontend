{"version":3,"sources":["../../../../src/components/__tests__/SignInWithMetamaskButton.test.tsx"],"sourcesContent":["/* eslint-disable react/display-name */\n\nimport { render, screen, userEvent, waitFor } from '@clerk/shared/testUtils';\nimport React from 'react';\n\nimport { SignInWithMetamaskButton } from '../SignInWithMetamaskButton';\n\nconst mockAuthenticatewithMetamask = jest.fn();\nconst originalError = console.error;\n\nconst mockClerk = {\n  authenticateWithMetamask: mockAuthenticatewithMetamask,\n} as any;\n\njest.mock('../withClerk', () => {\n  return {\n    withClerk: (Component: any) => (props: any) =>\n      (\n        <Component\n          {...props}\n          clerk={mockClerk}\n        />\n      ),\n  };\n});\n\ndescribe('<SignInWithMetamaskButton/>', () => {\n  beforeAll(() => {\n    console.error = jest.fn();\n  });\n\n  afterAll(() => {\n    console.error = originalError;\n  });\n\n  beforeEach(() => {\n    mockAuthenticatewithMetamask.mockReset();\n  });\n\n  it('calls clerk.authenticateWithMetamask when clicked', async () => {\n    render(<SignInWithMetamaskButton />);\n    const btn = screen.getByText('Sign in with Metamask');\n    userEvent.click(btn);\n    await waitFor(() => {\n      expect(mockAuthenticatewithMetamask).toHaveBeenCalled();\n    });\n  });\n\n  it('uses text passed as children', async () => {\n    render(<SignInWithMetamaskButton>text</SignInWithMetamaskButton>);\n    screen.getByText('text');\n  });\n\n  it('throws if multiple children provided', async () => {\n    expect(() => {\n      render(\n        <SignInWithMetamaskButton>\n          <button>1</button>\n          <button>2</button>\n        </SignInWithMetamaskButton>,\n      );\n    }).toThrow();\n  });\n});\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA,uBAAmD;AACnD,mBAAkB;AAElB,sCAAyC;AAEzC,MAAM,+BAA+B,KAAK,GAAG;AAC7C,MAAM,gBAAgB,QAAQ;AAE9B,MAAM,YAAY;AAAA,EAChB,0BAA0B;AAC5B;AAEA,KAAK,KAAK,gBAAgB,MAAM;AAC9B,SAAO;AAAA,IACL,WAAW,CAAC,cAAmB,CAAC,UAE5B,6BAAAA,QAAA;AAAA,MAAC;AAAA;AAAA,QACE,GAAG;AAAA,QACJ,OAAO;AAAA;AAAA,IACT;AAAA,EAEN;AACF,CAAC;AAED,SAAS,+BAA+B,MAAM;AAC5C,YAAU,MAAM;AACd,YAAQ,QAAQ,KAAK,GAAG;AAAA,EAC1B,CAAC;AAED,WAAS,MAAM;AACb,YAAQ,QAAQ;AAAA,EAClB,CAAC;AAED,aAAW,MAAM;AACf,iCAA6B,UAAU;AAAA,EACzC,CAAC;AAED,KAAG,qDAAqD,YAAY;AAClE,iCAAO,6BAAAA,QAAA,cAAC,8DAAyB,CAAE;AACnC,UAAM,MAAM,wBAAO,UAAU,uBAAuB;AACpD,+BAAU,MAAM,GAAG;AACnB,cAAM,0BAAQ,MAAM;AAClB,aAAO,4BAA4B,EAAE,iBAAiB;AAAA,IACxD,CAAC;AAAA,EACH,CAAC;AAED,KAAG,gCAAgC,YAAY;AAC7C,iCAAO,6BAAAA,QAAA,cAAC,gEAAyB,MAAI,CAA2B;AAChE,4BAAO,UAAU,MAAM;AAAA,EACzB,CAAC;AAED,KAAG,wCAAwC,YAAY;AACrD,WAAO,MAAM;AACX;AAAA,QACE,6BAAAA,QAAA,cAAC,gEACC,6BAAAA,QAAA,cAAC,gBAAO,GAAC,GACT,6BAAAA,QAAA,cAAC,gBAAO,GAAC,CACX;AAAA,MACF;AAAA,IACF,CAAC,EAAE,QAAQ;AAAA,EACb,CAAC;AACH,CAAC;","names":["React"]}